<!DOCTYPE html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui" >

    <ui:insert name="metadata" />

    <html>

        <h:head>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
            <title>AE Solutions Plataforms</title>     
            
            <h:outputStylesheet name="login/full.css" library="css" />
            <h:outputStylesheet name="login/bootstrap.css" library="css" />
            <h:outputStylesheet name="login/font-awesome.css" library="css" />
            
            <h:outputStylesheet name="login/web_login_style.css" library="css" />

            <ui:insert name="head" />

            <h:outputScript>
                $(document).bind('click', function(){
                return false;
                });

                $( document ).ready(function() {
                $( "#j_username" ).keypress(function() {
                $( "#j_username" ).val($( "#j_username" ).val().toUpperCase());
                });

                $( "#j_username" ).change(function() {
                $( "#j_username" ).val($( "#j_username" ).val().toUpperCase());
                });
                });



            </h:outputScript>

        </h:head>

        <h:body >

            <!--
            <p:focus for="j_username" context="j_username"></p:focus>
            -->

            <p:growl autoUpdate="true" globalOnly="true" />




            <div class="body_login">
                <div id="background-wrapper" style="background-image: url('#{facesContext.externalContext.requestContextPath}/resources/images/background_login_#{login.timeZoneBackground()}.png');"></div>
                <div class="col-lg-3 col-md-4 col-sm-4 col-xs-11 o_database_list">
                    <div class="text-center">
                        <h:graphicImage name="/logo-aml.png" library="images" /> 
                    </div>
                    <br/>

                    <form class="oe_login_form" role="form" method="post" action="api/auth/login" id="loginForm" >

                        <c:if test="#{param['error']=='true'}">
                            <h:panelGroup>
                                <center>
                                    <f:event type="preRenderView"
                                             listener="#{login.errorInicioSesion()}" />
                                </center>
                            </h:panelGroup>
                        </c:if>

                        <div class="form-group field-login">
                            <input type="text" name="j_username" id="j_username" class="form-control" required="required" 
                                   autofocus="autofocus" autocapitalize="off" placeholder="Usuario ..." autocomplete="off" autocorrect="off"></input>
                        </div>

                        <div class="form-group field-password">
                            <input type="password" name="j_password" id="j_password" class="form-control" 
                                   required="required" placeholder="Clave ..."></input>
                        </div>




                        <input type="hidden" name="redirect"></input>
                        <div class="clearfix oe_login_buttons">
                            <button type="submit" onclick="document.getElementById('loginForm').submit();" 
                                    class="btn btn-primary">Iniciar</button>
                        </div>

                    </form>


                </div>
            </div>
        





        </h:body>
    </html>
</f:view>